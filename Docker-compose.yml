
  services:
    postgres:
      image: postgres:15
      container_name: postgres
      environment:
        POSTGRES_USER: esteban
        POSTGRES_PASSWORD: 123456Aa.
        POSTGRES_DB: keycloak
      ports:
        - "5432:5432"
      volumes:
        - postgres_data:/var/lib/postgresql/data

    keycloak:
      image: quay.io/keycloak/keycloak:latest
      container_name: keycloak
      depends_on:
        - postgres
      environment:
        KEYCLOAK_ADMIN: admin
        KEYCLOAK_ADMIN_PASSWORD: admin
        KC_DB: postgres
        KC_DB_URL: jdbc:postgresql://postgres:5432/keycloak
        KC_DB_USERNAME: esteban
        KC_DB_PASSWORD: 123456Aa.
        KC_DB_URL_PROPERTIES: ssl=false
      ports:
        - "8080:8080"
      command: start-dev
volumes:
  postgres_data:

